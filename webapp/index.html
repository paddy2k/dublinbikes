<!doctype html>
<html lang="en">
<!--- <html lang="en" manifest="cache.manifest"> -->
<head>
  <title>Storage Demo</title>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

  <script type="text/javascript" src="js/Station.js"></script>
  <script type="text/javascript" src="js/Util.js"></script>
  <script type="text/javascript" src="js/THC.js"></script>
  <script type="text/javascript" src="js/Poca.js"></script>
  <script type="text/javascript" src="js/Geo.js"></script>
  <script type="text/javascript" src="js/LatLon.js"></script>
  <script type="text/javascript" src="js/socket.io.js"></script>
  <script type="text/javascript" src="js/socketHandlers.js"></script>
  <script type="text/javascript" src="js/main.js"></script>

  <link media="all" href="css/style.css" type="text/css" rel="stylesheet" />
</head>
<body>
  <a id="loadNearest" href="#!nearest">Load Nearest</a>
  <main id="main"></main>
  <button id="install">
    Install this awesome app on your homescreen!
  </button>
    
  <script>
  (function(){
    function install(ev) {
      ev.preventDefault();
      // define the manifest URL
      var manifest_url = "http://alpha.dublinbikes2go.com/manifest.webapp";
      // install the app
      var myapp = navigator.mozApps.install(manifest_url);
      myapp.onsuccess = function(data) {
        // App is installed, remove button
        this.parentNode.removeChild(this);
      };
      myapp.onerror = function(e) {
        alert(3);
        alert(JSON.stringify(myapp));
        // App wasn't installed, info is in
        // installapp.error.name
       };
    };
    // get a reference to the button and call install() on click
    var button = document.getElementById('install');
    button.addEventListener('click', install, false);
  })();
  </script>
</body>
</html>
